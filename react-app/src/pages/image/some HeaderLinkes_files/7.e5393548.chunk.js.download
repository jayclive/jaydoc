(this["webpackJsonpebanqo-messenger"]=this["webpackJsonpebanqo-messenger"]||[]).push([[7],{665:function(e,n,t){},666:function(e,n,t){},667:function(e,n,t){},668:function(e,n,t){},680:function(e,n,t){"use strict";t.r(n);var i=t(4),o=t(0),a=t.n(o),s=t(44),r=t.n(s);function c(){return c=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},c.apply(this,arguments)}function l(e,n){if(null==e)return{};var t,i,o=function(e,n){if(null==e)return{};var t,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)t=a[i],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)t=a[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var d=Object(o.forwardRef)((function(e,n){var t=e.color,i=void 0===t?"currentColor":t,o=e.size,s=void 0===o?24:o,r=l(e,["color","size"]);return a.a.createElement("svg",c({ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},r),a.a.createElement("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),a.a.createElement("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),a.a.createElement("line",{x1:"3",y1:"18",x2:"21",y2:"18"}))}));d.propTypes={color:r.a.string,size:r.a.oneOfType([r.a.string,r.a.number])},d.displayName="Menu";var p,h=d,u=(t(665),t(6)),b=function(e){var n=e.children;return Object(u.jsx)("div",{id:"base-layout",children:n})},x=t(158),j=t.n(x),m=t(102),g=function(e){var n,t=e.closeMenu,i=e.onChatHistoryClick,o=e.handleUserLogOut,a=e.clientInfo,s=j.a.parse(window.location.search);return Object(u.jsx)(m.a,{onClickOut:t,children:Object(u.jsxs)("ul",{className:"menu-list",children:[Object(u.jsx)("li",{onClick:i,children:"Chat History"}),a&&a.show_reg_form&&!(null!==s&&void 0!==s&&null!==(n=s.source)&&void 0!==n&&n.includes("appchat"))&&Object(u.jsx)("li",{onClick:o,children:"Log Out"})]})})},f=t(301),O=t(303),v=(t(8),t(3)),w=t(63),y=t(7),k=t(92),M=t(114),C=t(26),N=t(118),P=t(97),S=(t(666),function(e){var n=e.onClose,t=e.sessions,a=e.onImageVideoClick,s=e.fetchUserPreviewSessions,r=e.isLoadingPreviousSessions,c=e.versionType,l=e.options,d=e.handleCarouselButton,p=e.showSignUpForm,h=Object(o.useState)({session_id:"",type:""}),b=Object(i.a)(h,2),x=(b[0],b[1]),j=Object(o.useState)({pagination:{},data:[]}),m=Object(i.a)(j,2),g=m[0],f=m[1],O=Object(o.useState)(!1),S=Object(i.a)(O,2),U=S[0],T=S[1],F=Object(o.useState)(!1),I=Object(i.a)(F,2),E=I[0],L=I[1],B=Object(o.useState)(!1),A=Object(i.a)(B,2);A[0],A[1];Object(o.useEffect)((function(){s()}),[]);var z=function(){var e=Object(y.a)(Object(v.a)().mark((function e(n,t){var i,o;return Object(v.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x({session_id:n,type:t}),L(!0),T((function(e){return!e})),e.next=5,Object(P.c)(n,t);case 5:i=e.sent,L(!1),o=i&&i.data.map((function(e){var n=Object(w.a)(Object(w.a)({},e),{},{attachments:"string"===typeof e.attachments?JSON.parse(e.attachments):e.attachments});return e.attachments&&e.attachments.length?Object(w.a)(Object(w.a)({},n),{},{msg_type:"attachment"}):n})),i&&f(Object(w.a)(Object(w.a)({},i),{},{data:o}));case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{id:"chat-history",children:Object(u.jsxs)(k.a,{onClose:n,versionType:c,children:[r&&Object(u.jsx)(C.a,{}),!U&&!r&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("ul",{className:"chat-session-list custom-scrollbar",children:t.map((function(e,n){return Object(u.jsxs)("li",{className:"chat-session-item",onClick:function(n){return z(e.session_id,e.type)},children:[Object(u.jsx)("h5",{className:"message",children:e.message}),Object(u.jsx)("span",{className:"sender",children:e.sender})," - ",Object(u.jsx)("span",{className:"time",children:Object(N.b)(e.date)})]},n)}))}),t&&!t.length?Object(u.jsxs)("div",{className:"empty-data-container",children:[Object(u.jsx)("img",{src:"/img/empty-data.svg",alt:""}),Object(u.jsx)("p",{children:"You have no previous chat session"})]}):null]}),U&&Object(u.jsx)(k.a,{onClose:function(){T((function(e){return!e}))},versionType:c,children:E?Object(u.jsx)(C.a,{}):Object(u.jsx)(M.a,{messages:g.data,enableScroll:!1,handleMediaFileClick:a,versionType:c,options:l,handleCarouselButton:d,showSignUpForm:p})})]})})}),U=t(68),T=t(64),F=t(677),I=t(678),E=t(302),L=(t(667),function(e){var n=e.handleMediaUpload,t=e.fileTypes;return Object(u.jsxs)("div",{id:"upload-options-container",children:[Object(u.jsx)("ul",{className:"upload-options",children:t.map((function(e){return Object(u.jsx)("li",{children:Object(u.jsxs)("label",{children:[Object(u.jsx)("span",{className:"icon",children:Object(u.jsx)(e.icon,{})}),Object(u.jsx)("span",{children:e.desc}),Object(u.jsx)("input",{type:"file",id:"",onChange:function(t){return n(t,e)},accept:e.accept,multiple:!0})]})},e.name)}))}),Object(u.jsx)("p",{children:"Maximum upload file size is 5MB"})]})}),B=(t(300),function(e){var n=e.value,t=e.onChange,i=e.handleSubmit,o=(e.setActiveMedia,e.showEmojiPicker),a=e.showUploadButtons,s=e.toggleEmojiPicker,r=e.onEmojiPickerClick,c=e.handleEmojiClickOut,l=(e.addMediaToPreviewModal,e.toggleMediaPreviewModal,e.toggleUploadButtonsContainer),d=e.fileTypes,p=e.handleFileUpload;return Object(u.jsx)(m.a,{onClickOut:c,children:Object(u.jsxs)("div",{className:"message-input-container",style:{display:"flex",flexDirection:"column",height:"75px"},children:[Object(u.jsxs)("div",{style:{display:"flex",width:"100%",alignItems:"center"},children:[a&&Object(u.jsx)(L,{handleMediaUpload:p,fileTypes:d}),Object(u.jsxs)("div",{className:"input",children:[Object(u.jsx)("textarea",{name:"",id:"",placeholder:"Type a message",className:"message-input custom-scrollbar",value:n,onChange:t,onKeyUp:function(e){13!==e.which||e.shiftKey||i()},onKeyDown:function(e){13!==e.keyCode||e.shiftKey||e.preventDefault()}}),Object(u.jsxs)("div",{className:"addon-container",children:[Object(u.jsx)("button",{className:"attachment-button",onClick:l,children:Object(u.jsx)(F.a,{strokeWidth:2,width:"1em",className:"upload-file-icon"})}),o&&Object(u.jsx)(E.a,{title:"",emoji:"",set:"google",onClick:r}),Object(u.jsx)("button",{className:"emoji-picker-button",onClick:s,children:Object(u.jsx)(I.a,{color:o?"#cbcbcb":"#444"})})]})]}),Object(u.jsx)("button",{className:"send-button",onClick:function(e){return i()},children:Object(u.jsx)(U.a,{icon:T.i})})]}),Object(u.jsxs)("a",{style:{cursor:"pointer",textDecoration:"none",color:"#5A5A5A",fontSize:"12px",marginTop:"-5px"},href:"https://www.ebanqo.com/powered-by-ebanqo",target:"_blank",rel:"noopener noreferrer",children:["Powered by ",Object(u.jsx)("span",{style:{color:"#059ae5"},children:"eBanqo"})]})]})})}),A=t(211),z=t(156),R=(t(668),function(e){var n=e.onClose,t=e.mediaList,a=e.activeMedia,s=e.setActiveMedia,r=e.onCaptionInputChange,c=e.handleSendingMediaFiles,l=e.handleRemoveMediaFromPreviewModal,d=e.selectedFileType,p=e.handleFileUpload,h=e.versionType,b=Object(A.a)().width,x=Object(o.useRef)(null),j=Object(o.useState)(a.caption),m=Object(i.a)(j,2),g=m[0],f=m[1];Object(o.useEffect)((function(){x.current&&x.current.naturalHeight>0&&y(x.current,b)}),[b]);var O=a.type&&0===a.type.indexOf("video")||!1,v=a.type&&0===a.type.indexOf("image")||!1,w=a.type&&0===a.type.indexOf("audio")||!1,y=function(e,n){if(e){var t=n>400?400:n,i=t+80,o=Math.min(t/e.naturalWidth,i/e.naturalHeight),a=e.naturalHeight*o,s=e.naturalWidth*o;return e.style.width="".concat(s,"px"),a>480?e.style.height="".concat(a,"px"):null}};Object(o.useEffect)((function(){f(a.caption||"")}),[a]);return Object(u.jsx)(k.a,{className:"media-preview-modal",onClose:n,versionType:h,children:Object(u.jsxs)("div",{className:"preview-modal-content",children:[Object(u.jsx)("div",{className:"preview-container",children:Object(u.jsx)("div",{className:"main-media-preview",children:O?Object(u.jsx)("video",{src:a.url,controls:!0}):v?Object(u.jsx)("img",{src:a.url,alt:"",id:"active-preview-img",ref:x,onLoad:function(e){return y(e.target,b)}}):w?Object(u.jsx)("audio",{controls:!0,src:a.url,children:"Your browser does not support the audio element."}):a.url&&Object(u.jsx)("img",{className:"active-preview-file-icon",src:Object(z.a)(a),alt:""})})}),t.length>0&&Object(u.jsxs)("div",{className:"media-list-wrapper",children:[Object(u.jsxs)("div",{className:"caption-input-container",children:[Object(u.jsx)("input",{type:"text",placeholder:"Add a caption...",className:"caption-input",onChange:function(e){f(e.target.value),r(a,e.target.value)},onKeyUp:function(e){13===e.which&&c()},value:g}),Object(u.jsx)("button",{className:"send-media-button",onClick:c,children:"send"})]}),Object(u.jsxs)("div",{className:"list-add-more-container",children:[Object(u.jsx)("ul",{className:"media-list custom-scrollbar",children:t.map((function(e){return Object(u.jsx)("li",{children:Object(u.jsxs)("div",{className:"".concat((i=e,i.url===a.url&&i.name===a.name?"active-file ":""),"media-list-item-wrapper"),onClick:function(n){return s(e)},children:[0===e.type.indexOf("video")?Object(u.jsx)("video",{src:e.url}):0===e.type.indexOf("image")?Object(u.jsx)("img",{src:e.url,alt:""}):Object(u.jsx)("img",{src:Object(z.a)(e),alt:""}),Object(u.jsx)("span",{className:"x-button-wrapper",role:"button",children:Object(u.jsx)("span",{onClick:function(i){i.stopPropagation(),t.length>1?l(e):n()}})})]})});var i}))}),Object(u.jsx)("div",{className:"add-more-files",children:Object(u.jsxs)("label",{className:"add-more-files-label",children:[Object(u.jsx)("span",{className:"icon",children:Object(u.jsx)(U.a,{icon:T.j,title:"add more files",className:"add-more-files-label-icon"})}),Object(u.jsx)("span",{className:"label",children:"add more"}),Object(u.jsx)("input",{type:"file",id:"",onChange:function(e){return p(e,d)},accept:d.accept,multiple:!0})]})})]})]})]})})}),_=t(210),D=t(54),H=t(55).a.div(p||(p=Object(D.a)(["\n  #webchat-container {\n    $primary-color: #407aa4;\n    $gray-color: #e7e7e7;\n    background-color: #fff;\n    flex: 0 0 575px;\n    margin: 0 auto;\n    box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.08);\n    min-height: 100vh;\n    position: relative;\n    display:flex;\n    flex-direction: column;\n\n    .show-button-container {\n      display: flex;\n      justify-content: center;\n\n      button {\n        padding: 8px 16px;\n        border-radius: 22px;\n        border: 1px solid #407aa4;\n        background-color: #f3f3f3;\n        transition: 0.3s;\n\n        &:hover {\n          background-color: #3c76a0;\n          color: #fff;\n        }\n      }\n    }\n\n    .menu-container {\n      height: 44px;\n      // box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.06);\n\n      .connection-status-container {\n        display: flex;\n        align-items: center;\n        height: 100%;\n        padding: 0px 27px;\n\n        .status {\n          &-connected {\n            width: 10px;\n            height: 10px;\n            border-radius: 10px;\n            background-color: #3dd475;\n            -webkit-border-radius: 10px;\n            -moz-border-radius: 10px;\n            -ms-border-radius: 10px;\n            -o-border-radius: 10px;\n          }\n\n          &-error {\n            padding: 3px 10px;\n            background: #eb5a46;\n            border-radius: 30px;\n            color: #fff;\n          }\n        }\n      }\n\n      button {\n        padding: 6px 9px;\n        position: absolute;\n        right: 8px;\n        top: 5px;\n        background-color: #fff;\n        border: none;\n        font-size: 1.3rem;\n      }\n\n      .menu-list {\n        position: absolute;\n        right: 7px;\n        background-color: #fff;\n        list-style: none;\n        z-index: 2;\n        box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.13);\n\n        > li {\n          padding: 10px 20px;\n          border-bottom: 1px solid #eee;\n          font-size: 14px;\n          color: #a29f9f;\n\n          &:hover {\n            cursor: pointer;\n            color: $primary-color;\n          }\n        }\n      }\n    }\n\n    .message {\n      &-trail {\n        height: auto;\n        min-height: calc(100vh - 119px);\n        max-height: calc(100vh - 119px);\n        overflow: hidden;\n        overflow-y: scroll;\n        padding: 20px;\n        padding-bottom: 0px;\n\n        li.typing-message {\n          list-style: none;\n          float: left;\n          width: 51px;\n          height: 28px;\n          background-color: #e7e7e7;\n          padding: 0px 7px;\n          border-radius: 12px;\n          box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.13);\n          margin-bottom: 25px;\n        }\n\n        .scroll-message-indicator {\n          display: inline-block;\n          width: 40px;\n          height: 40px;\n          border-radius: 40px;\n          background: #f3f3f3;\n          line-height: 40px;\n          text-align: center;\n          position: absolute;\n          bottom: 198px;\n          right: 27px;\n\n          transition: all 0.3s cubic-bezier(0.76, 0.21, 0.25, 1);\n          border: 0.8px solid #d1d1d1;\n\n          .new-messages-icon {\n            display: inline-block;\n            position: absolute;\n            top: -9px;\n            right: 0;\n            background-color: #de5858;\n            height: 20px;\n            line-height: 20px;\n            padding: 0 4px;\n            color: #fff;\n            border-radius: 7px;\n          }\n        }\n\n        .chat-auto-srcoll-anchor {\n          // clear: both;\n          // width: 100%;\n          // height: 40px;\n          // position: relative;\n          // bottom: -30px;\n\n          clear: both;\n          width: 100%;\n          height: 8px;\n          right: 0;\n          margin-top: 0;\n        }\n      }\n\n      &-input-container {\n        \n        bottom: 0;\n        width: 100%;\n        height: 70px;\n        background: #f4f4f4;\n        display: flex;\n        align-items: center;\n        .input {\n          flex: 1;\n          position: relative;\n\n          textarea {\n            resize: none;\n            font-family: 'Rubik', sans-serif;\n            width: 100%;\n            margin: 10px;\n            border-radius: 20px;\n            height: 40px;\n            border: 0px;\n            outline: 0;\n            padding: 10px;\n            padding-left: 20px;\n            padding-right: 4rem;\n          }\n\n          .addon-container {\n            position: absolute;\n            right: 0;\n            top: 18px;\n\n            .emoji-picker-button {\n              background: transparent;\n              width: 22px;\n              height: 22px;\n              border-radius: 30px;\n              border: 0px;\n\n              .svg-inline--fa {\n                width: 22px;\n                height: 22px;\n              }\n            }\n\n            .attachment-button {\n              width: 25px;\n              height: 25px;\n              border: 0;\n              outline: 0;\n              border-radius: 50%;\n              background-color: #eaeaea;\n              margin-right: 5px;\n\n              .upload-file-icon {\n                position: relative;\n                top: 1px;\n              }\n            }\n          }\n        }\n\n        .send-button {\n          flex: 0 0 40px;\n          height: 40px;\n          border-radius: 100%;\n          border: 0;\n          background-color: #000;\n          color: #fff;\n          margin-right: 15px;\n          margin-left: 22px;\n          transition: 0.3s;\n          -webkit-transition: 0.3s;\n          -moz-transition: 0.3s;\n          -ms-transition: 0.3s;\n          -o-transition: 0.3s;\n          &:hover {\n            background-color: #444;\n          }\n        }\n      }\n    }\n\n    .emoji-mart {\n      position: absolute;\n      bottom: 44px;\n      right: 0;\n    }\n\n    @media screen and (min-width: 768px) {\n      max-height: 666px;\n      min-height: 550px;\n      border-radius: 7px;\n      overflow: hidden;\n\n      .message {\n        line-height: 22px !important;\n        font-size: 0.9rem !important;\n        &-trail {\n          // max-height: 437px;\n          // min-height: 437px;\n        }\n      }\n    }\n\n    @media screen and (max-width: 500px) {\n      .emoji-mart {\n        width: 100% !important;\n        position: fixed;\n        bottom: 70px;\n        right: 0;\n      }\n    }\n  }\n\n  button {\n    outline: none;\n  }\n\n  @media screen and (min-width: 768px) {\n    #webchat-container .message-trail {\n      min-height: 566px !important;\n      max-height: 566px !important;\n    }\n  }\n"])));n.default=function(e){var n=e.showSignUpForm,t=e.chatSessions,a=e.sentMessages,s=e.pendingMessages,r=e.deliveredMessages,c=e.versionType,l=e.clientInfo,d=e.setSocket,p=e.socket,x=e.handleUserLogOut,j=e.setIsMessageLoading,m=e.isMessageLoading,v=e.isLoadingPreviousSessions,w=(e.userInfo,e.fetchUserPreviewSessions),y=e.openUploadingMediaFilesPreviewModal,k=e.isSocketConnected,C=e.toggleSignUpForm,N=(e.handledFileUpload,e.handleAddMediaToPreviewModal),P=e.selectedFileType,U=(e.setMediaPreviewInfo,e.mediaPreviewInfo),T=e.setActiveMedia,F=e.activeMedia,I=e.showMediaUploadModal,E=(e.setShowMediaUploadModal,e.setShowUploadButtons,e.showUploadButtons),L=e.fileTypes,A=(e.supportActive,e.toggleUploadButtonsContainer),z=e.handleSendMessageToBot,D=e.messageTextInputValue,q=e.handleTextInputValueChange,K=e.addEmoji,V=e.showEmojiPicker,W=e.toggleEmojiPicker,J=e.closeEmojiPicker,$=e.openMediaPreviewModal,Q=e.handleRemoveMediaFromPreviewModal,Y=e.sendMediaFiles,G=e.onCaptionInputChange,X=e.showIsTypingIndicator,Z=e.handleAfterNewUserRegistration,ee=e.handleLinkButtonForMobile,ne=e.toggleLinkModal,te=e.linkModal,ie=e.handleQuickReplyAction,oe=e.handleCarouselButton,ae=e.showUploadingMediaFilesPreviewModal,se=e.showMenu,re=e.setShowMenu,ce=e.handldeFileUpload,le=e.closeMediaPreviewModal,de=e.uploadingMediaFilesPreview,pe=e.closeUploadingMediaFilesPreviewModal,he=Object(o.useState)(!1),ue=Object(i.a)(he,2),be=ue[0],xe=ue[1],je=function(){re(!se)},me=function(){xe(!be)};return Object(u.jsx)(H,{children:Object(u.jsx)(b,{children:Object(u.jsxs)("div",{id:"webchat-container",children:[Object(u.jsxs)("div",{className:"menu-container",children:[Object(u.jsx)("div",{className:"connection-status-container",children:k?Object(u.jsx)("span",{className:"status-connected",children:"\xa0"}):Object(u.jsx)("span",{className:"status-error",children:"connecting..."})}),se&&Object(u.jsx)(g,{onChatHistoryClick:me,handleUserLogOut:x,closeMenu:je,clientInfo:l}),Object(u.jsx)("button",{onClick:je,children:Object(u.jsx)(h,{color:"black"})})]}),Object(u.jsx)(M.a,{socket:p,isLoading:m,setIsLoading:j,messages:r,sentMessages:a,pendingMessages:s,handleQuickReplyAction:ie,handleLinkButton:ne,handleMediaFileClick:y,handleLinkButtonForMobile:ee,showIsTypingIndicator:X,enableScroll:!0,versionType:c,options:null===l||void 0===l?void 0:l.options,handleCarouselButton:oe,showSignUpForm:n}),Object(u.jsx)(B,{showUploadButtons:E,toggleUploadButtonsContainer:A,handleSubmit:z,value:D,onChange:q,onEmojiPickerClick:K,showEmojiPicker:V,toggleEmojiPicker:W,handleEmojiClickOut:J,toggleMediaPreviewModal:$,addMediaToPreviewModal:N,setActiveMedia:T,fileTypes:L,handleFileUpload:ce}),be&&Object(u.jsx)(S,{fetchUserPreviewSessions:w,onClose:me,sessions:t,isLoadingPreviousSessions:v,onImageVideoClick:y,versionType:c,options:null===l||void 0===l?void 0:l.options,handleCarouselButton:oe,showSignUpForm:n}),te.visible&&Object(u.jsx)(f.a,{modalData:te.modalData,onClose:ne,versionType:c}),n&&Object(u.jsx)(O.a,{onClose:C,socket:p,setSocket:d,clientInfo:l,handleAfterUserRegistration:Z,versionType:c,options:null===l||void 0===l?void 0:l.options}),I&&Object(u.jsx)(R,{activeMedia:F,mediaList:U,onClose:le,setActiveMedia:T,onCaptionInputChange:G,handleSendingMediaFiles:Y,handleRemoveMediaFromPreviewModal:Q,selectedFileType:P,handleFileUpload:ce,versionType:c}),ae&&Object(u.jsx)(_.a,{filesToPreview:de,onClose:pe,versionType:c})]})})})}}}]);
//# sourceMappingURL=7.e5393548.chunk.js.map